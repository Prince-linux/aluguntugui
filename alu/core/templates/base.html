<!DOCTYPE html>

{% load static %}

<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Aluguntugui</title>
    <link rel="stylesheet" href="{% static 'core/bulma/bulma.min.css' %}">
    <link rel="stylesheet" href="{% static 'core/ficons/font.css' %}">
    {% block css %}{% endblock %}
    {% block javascript-head %}{% endblock %}
  </head>

  <body class="has-navbar-fixed-top">
    <nav class="navbar has-shadow is-fixed-top">
      <div class="navbar-brand">
	<a class="navbar-item" href="#">
	  <img src="{% static 'core/aluguntugui-logo-small.png' %}">
	</a>
      </div>

      <div class="navbar-start">
	{% block navbar-start %}{% endblock %}
      </div>

      <div class="navbar-end">
	{% block navbar-end %}{% endblock %}

	{% if not user.is_authenticated %}
	  <div class="navbar-item">
	    <a class="button is-success mr-1" href="{% url 'login' %}">Login</a>
	    <a class="button" href="{% url 'register' %}">Register</a>
	  </div>
	{% else %}
	  <div class="navbar-item">
	    <a class="button is-danger" href="{% url 'logout' %}">Logout</a>
	  </div>
	{% endif %}
      </div>
    </nav>

    <main class="section">
      <div class="container">
	{% if page_title %}
	  <h2 class="title is-title-2">{{ page_title }}</h2>
	{% endif %}

	{% if messages %}
	  {% for message in messages %}
	    <div class="notification{% if message.tags %} {{ message.tags }}{% endif  %}">
	      <p>{{ message }}</p>
	    </div>
	  {% endfor %}
	{% endif %}

	{% if form %}
	  {% if form.errors %}
	    <div class="notification is-danger">
	      <p>You have the following errors:</p>
	      <ol>
		{% for field in form %}
		  {% for error in field.errors %}
		    <li>{{ error|escape }}</li>
		  {% endfor %}
		{% endfor %}
	      </ol>
	    </div>
	  {% endif %}
	{% endif %}
	
	{% block main %}{% endblock %}
      </div>
    </main>

    {% block below-main %}{% endblock %}
    
    <footer class="footer">
      <div class="content has-text-centered">
	Copyright &copy; 2020 Lorenzo Cabrini
      </div>
    </footer>
  </body>
</html>
